---
layout:     post
title:      非局部均值滤波器
subtitle:   5th blog
date:       2024-10-04
author:     Qinglong
header-img: img/post_tree.jpg
catalog: true
tags:
    - Image process
    - Image denoise
---
## 非局部均值滤波器

NLM是一种基于图像块相似性的图像去噪方法，由Antoni Buades等人于2005年提出。与传统的基于像素的局部滤波方法不同，NLM利用了图像的自相似性原理，即图像中的大部分结构会在不同的位置重复出现。这种方法在保持边缘清晰度和细节的同时，有效地减少了噪声的影响。

### NLM降噪的基本步骤：

相似性度量： 对于图像中的每一个像素p，在图像的某个搜索区域内找到与该像素周围块（block）相似的其他块。相似度通常使用高斯核或指数函数来衡量，这取决于两个块之间的像素差异。  
加权平均： 使用相似度作为权重，对所有相似块进行加权平均，得到目标像素的去噪估计值。权重越大意味着对应的块与目标像素周围的块越相似，因此对该像素的贡献也越大。    
标准化： 在进行加权平均之前，通常会对权重进行归一化处理，确保所有权重的总和等于1，这样可以避免亮度的改变。
   
具体思路：  
1，对当前点A定义较小一个滑动窗口（比如5 * 5）；
2，再对A定义一个较大的邻域范围（11 * 11），对邻域范围内所有的点取5*5的窗口。计算与A的窗口的差异；  
3，计算所有点的差值的平方和，并利用该值来分配权重，并归一化处理；  
4，通过加权平均计算A点新的像素值。

![shiyitu1.png](https://s2.loli.net/2024/10/06/CXkhtvneL6b1jdJ.png)
NLM算法在处理自然图像时效果很好，因为它利用了图像的内在冗余和自相似性，但在处理具有高度纹理或复杂结构的图像时，可能需要调整参数以达到最佳效果。此外，NLM算法的计算量相对较大，因为需要在每个像素处执行块匹配和加权平均操作，这使得它在实时应用中可能受限.

可参考：
NLM去噪算法实现 - 羽凌寒 - CSDN博客  
>https://blog.csdn.net/u011630458/article/details/5131741